<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spam Email Detector</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <!-- External CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />

  <!-- Favicon -->
  <link rel="icon" href="{{ url_for('static', filename='favicon.png') }}" type="image/png" />
</head>

<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container">
      <h1>Spam Email Detector</h1>
      <p class="subtitle">Analyze email content using Machine Learning to detect spam instantly.</p>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main>
    <section class="form-section">
      <div class="container">

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div class="flash-messages">
              {% for category, message in messages %}
                <div class="flash {{ category }}">{{ message }}</div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <!-- Email Input Form -->
        <form method="post" action="/" class="email-form">
          <label for="email">Enter Email Content</label>
          <textarea id="email" name="email" placeholder="Paste your email text here..." required>{{ email_text or '' }}</textarea>

          <button type="submit" class="btn-primary">Check Email</button>
        </form>

        <!-- Prediction Result -->
        {% if prediction %}
        <div class="result {% if 'Spam' in prediction %} spam-result {% else %} safe-result {% endif %}">
          <h3>Analysis Result</h3>
          <p><strong>{{ prediction }}</strong></p>
          {% if probability %}
            <p class="confidence">Confidence: <em>{{ probability }}</em></p>
          {% endif %}
        </div>
        {% endif %}

      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container">
      <p>&copy; 2025 Spam Detector | Built with <span class="highlight">Flask</span> & Machine Learning</p>
    </div>
  </footer>
</body>
</html>
